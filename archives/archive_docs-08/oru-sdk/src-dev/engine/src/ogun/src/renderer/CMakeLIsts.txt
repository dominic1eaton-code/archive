# @license
# @brief
cmake_minimum_required(VERSION 3.18)
project(renderer CXX)

list(
    APPEND _srcs
    main.cpp
    vulkan_model.cpp
    vulkan_scene.cpp
    vulkan_renderer.cpp
    vulkan_shader.cpp
    vulkan_ui.cpp
)

list(
    APPEND _headers
    vulkan_core.h
    vulkan_model.h
    vulkan_scene.h
    vulkan_renderer.h
    vulkan_shader.h
    vulkan_ui.h
)

if(CMAKE_COMPILER_IS_GNUCXX)
    # Optimization level -O3
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3")
endif()
if(MSVC)
    # Optimization level /O2
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /O2 /MP /Zi")
endif()

find_package(glm REQUIRED)
find_package(Vulkan REQUIRED)
find_package(stb REQUIRED)
find_package(VulkanHeaders REQUIRED)

add_executable(${PROJECT_NAME} ${_srcs} ${_headers})

target_link_libraries(${PROJECT_NAME} glm::glm)
target_link_libraries(${PROJECT_NAME} stb::stb)
target_link_libraries(${PROJECT_NAME} Vulkan::Vulkan)
target_link_libraries(${PROJECT_NAME} vulkan-headers::vulkan-headers)